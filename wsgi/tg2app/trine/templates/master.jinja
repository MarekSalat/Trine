<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="charset={{ response.charset }}"/>
    {% block master_head %}
    {% endblock %}
    <title>{% block master_title %}{% endblock %}</title>
    <link rel="stylesheet" type="text/css" media="screen" href="{{ tg.url('/bootstrap/dist/css/bootstrap.min.css') }}"/>
    <link rel="stylesheet" type="text/css" media="screen" href="{{ tg.url('/bootstrap/dist/css/docs.min.css') }}"/>
    <link rel="stylesheet" type="text/css" media="screen" href="{{ tg.url('/css/trine.css') }}"/>

    {#    <link rel="stylesheet" type="text/css" media="screen" href="{{tg.url('/bootstrap/dist/css/bootstrap-theme.min.css')}}" />#}
    {#    <link rel="stylesheet" type="text/css" media="screen" href="{{tg.url('/css/style.css')}}" />#}


    <script src="{{ tg.url('/jquery/dist/jquery.min.js') }}"></script>
    <script src="{{ tg.url('/bootstrap/dist/js/bootstrap.min.js') }}"></script>
    <script src="{{ tg.url('/javascript/form-validator/jquery.form-validator.min.js') }}"></script>
    <script src="{{ tg.url('/javascript/fittext.js') }}"></script>

    <style type="text/css">
        #main-content {
            padding-top: 5em;
        }

        .transaction-amount {
            font-size: 6em;
            text-align: center;
            vertical-align: middle;
        }
    </style>
</head>

<body>
<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">{{ tmpl_context.project_name|capitalize }}</a>
        </div>
        <div class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                <li class="{{ 'active' if page == 'index' }}"><a href="{{ tg.url('/') }}">Welcome</a></li>
                <li><a href="{{ tg.url('/about') }}" class="{{ 'active' if page == 'about' }}">About</a></li>
                <li><a href="{{ tg.url('/data') }}" class="{{ 'active' if page == 'data' }}">Serving Data</a></li>
                <li><a href="{{ tg.url('/environ') }}" class="{{ 'active' if page == 'environ' }}">WSGI Environment</a>
                </li>

                <li><a href="{{ tg.url('/transaction') }}">Transactions</a></li>
                <li><a href="{{ tg.url('/transaction/transactionByTag') }}">Transactions by tag</a></li>
                <li><a href="{{ tg.url('/transaction/filter') }}">Filter</a></li>
            </ul>
            {% if tg.auth_stack_enabled %}
                <ul class="nav navbar-nav  navbar-right">
                    {% if request.identity %}
                        <li><a href="{{ tg.url('/logout_handler') }}">Logout</a></li>
                        <li><a href="{{ tg.url('/admin') }}">Admin</a></li>
                    {% else %}
                        <li><a href="{{ tg.url('/login') }}">Login</a></li>
                    {% endif %}
                </ul>
            {% endif %}
        </div>
        <!--/.nav-collapse -->
    </div>
</div>


<div class="container" id="main-content">

    <!-- Flash messages -->
    {% with flash=tg.flash_obj.render('flash', use_js=False) %}
    {% if flash %}<div id="flash-box-main">
        <h4>Message</h4>
        <pre>{{ flash|safe }}</pre>
    </div>{% endif %}
    {% endwith %}

    {% block contents %}
    {% endblock %}

    <!-- End of main_content -->
    <footer class="footer hidden-tablet hidden-phone">
        <p>Copyright &copy; {{ tmpl_context.project_name }} {#  #}{{ h.current_year() }}</p>
    </footer>
</div>

<script type="text/javascript">
    fitttext_callback = function () {
        $('.fittext').each(function () {
            $(this).autoTextSize(5, 50);
        });
    }

    $(window).ready(fitttext_callback);
    $(window).resize(fitttext_callback);
</script>
</body>
</html>
